<view class="message-container">
    <!-- Tab 栏 -->
    <view class="tabs">
        <view 
            wx:for="{{tabs}}" 
            wx:key="type"
            class="tab-item {{activeTab === item.type ? 'active' : ''}}"
            bindtap="onTabChange"
            data-type="{{item.type}}"
        >
            <view class="tab-name">{{item.name}}</view>
            <view class="badge" wx:if="{{item.unread > 0}}">{{item.unread}}</view>
        </view>
    </view>

    <!-- 消息列表 -->
    <scroll-view 
        class="message-list" 
        scroll-y 
        enable-back-to-top
        bindscrolltolower="onReachBottom"
    >
        <view 
            wx:for="{{messages}}" 
            wx:key="id" 
            class="message-item {{!item.isRead ? 'unread' : ''}}"
        >
            <view class="message-title">{{item.title}}</view>
            <view class="message-content">{{item.content}}</view>
            <view class="message-time">{{item.createTime}}</view>
        </view>

        <!-- 加载状态 -->
        <view class="loading-status">
            <view wx:if="{{loading}}">加载中...</view>
            <view wx:elif="{{!hasMore}}">没有更多了</view>
        </view>
    </scroll-view>
</view> 